// Tabula rasa
@import "../../bower_components/tink-core/dist/tink/variables";
@import "../../bower_components/tink-core/dist/tink/functions";
@import "../../bower_components/tink-core/dist/tink/mixins";
@import "fixes";

/**
 * Sidenav
 */
html {
	&.has-nav-left {
		&.nav-left-can-always-close {

			// Nav left is NOT open
			@include mq($screen-sm) {
				.main {
					padding-left: 0;
		    }
		    .nav-left {
		    	transform: translate(rem(-$nav-aside-width), 0);
		    }
		  }

			// Nav left is open
			&.nav-left-open {
				@include mq($screen-sm) {
					.main {
			      padding-left: rem($nav-aside-width + $nav-aside-extra-body-padding);
			    }
			    .nav-left {
			      transform: translate(0, 0);
			    }
			  }
		  }

			// Make sure the toggle is always visible
			.nav-top {
				&-branding {
					> li {
						&.toggle {
							@include mq($screen-sm) {
								display: block;
							}
						}
					}
				}
			}
		}
	}

	&.has-nav-right {
		&.nav-right-can-always-close {

			// Nav right is NOT open
			@include mq($screen-sm) {
				.main {
					padding-right: 0;
		    }
		    .nav-right {
		    	transform: translate(rem($nav-aside-width), 0);
		    }
		  }

			// Nav right is open
			&.nav-right-open {
				@include mq($screen-sm) {
					.main {
			      padding-right: rem($nav-aside-width + $nav-aside-extra-body-padding);
			    }
			    .nav-right {
			      transform: translate(0, 0);
			    }
			  }
		  }

			// Make sure the toggle is always visible
			.nav-top {
				&-branding {
					> li {
						&.toggle {
							@include mq($screen-sm) {
								display: block;
							}
						}
					}
				}
			}
		}
	}

	&.col-resize {
		cursor: col-resize;
	}

	&.row-resize {
		cursor: row-resize;
	}
}


/**
 * Split view
 */
.main {
	height: 100vh; // TO DO: check if this is ok to do by default
	overflow: hidden;
}

%split-view {
	height: 100%;
	overflow: hidden;
	position: relative;
	z-index: layer("base");
}

.split-handle {
	// background-color: rgba(255,0,0,.32); // Uncomment for testing its placement
	position: absolute;
}

.split-pane {
	display: block;
	float: left;
	overflow: auto;
}

.split-view-vertical {
	@extend %split-view;

	.split-pane {
		height: 100%;
		width: 50%;

		&:first-of-type {
			border-right: 1px solid $gray-light;
			z-index: 2;
		}
	}

	.split-handle {
		bottom: 0;
		cursor: col-resize;
		left: calc(50% - 3px);
		top: 0;
		width: 5px;
		z-index: layer("pseudo");
	}
}

.split-view-horizontal {
	@extend %split-view;

	.split-pane {
		height: 50%;
		width: 100%;

		&:first-child {
			border-bottom: 1px solid $gray-light;
		}
	}

	.split-handle {
		left: 0;
		cursor: row-resize;
		height: 5px;
		right: 0;
		top: calc(50% - 3px);
		z-index: layer("pseudo");
	}
}



/**
 * Mailbox list
 */
.list-mailbox {
	@extend .list-unstyled;
	border-top: 1px solid $gray-lighter;
	// padding-top: rem(56);

	> li {
		border-bottom: 1px solid $gray-lighter;

		&.unread {
			> a {
				color: $black;

				.list-mailbox-title {
					font-weight: 700;
				}

				&:before {
					background-color: $brand-info;
					border-radius: 50%;
					content: '';
					display: block;
					height: rem(8);
					left: rem(10);
					position: absolute;
					top: rem(19);
					width: rem(8);
				}
			}
		}

		> a {
			color: $text-color;
			cursor: pointer;
			display: block;
			padding: rem(12 16 12 24);
			position: relative;
			text-decoration: none;

			&:hover,
			&:active,
			&:focus {
				background-color: rgba($black, .05);
				color: $brand;
			}

			> div {
				display: table;
				width: 100%;

				> span {
					display: table-cell;
					vertical-align: middle;
				}
			}
		}
	}

	&-options {
		background-color: $gray-lighter;
		padding: 10px 0 8px;
		width: 100%;
	}

	&-title {
		font-weight: 600;
	}

	&-category {
		@extend .label;
		float: right;
    margin: rem(1 0 0 8);
	}

	&-description {
		display: block;
		display: -webkit-box;
		height: rem($line-height-computed*2);
		line-height: $line-height-base;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

/**
 * Nav right
 */
.nav-right {
	.toggle {
		border-right-width: 0;
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
		transform: translate(rem(-36),0);
	}
}
